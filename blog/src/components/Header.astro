---
// blog/src/components/Header.astro
import { BLOG_BASE_URL, SITE_URL } from '../consts';

// The logo path assumes aptcore-logo.svg is in blog/public/
// Since 'base' is '/blog', Astro expects the URL to include it.
const logoUrl = "/blog/aptcore-logo.svg"; 

const navLinks = [
  { href: SITE_URL, text: "Main App" }, 
  { href: BLOG_BASE_URL, text: "Blog" },
  // { href: `${BLOG_BASE_URL}/about`, text: "About" }, 
];

const currentPath = Astro.url.pathname;
---
<header class="w-full backdrop-blur-xl bg-white/5 border-b border-white/10 shadow-md sticky top-0 z-50">
  <nav class="container mx-auto max-w-5xl flex justify-between items-center px-4 sm:px-6 py-3 sm:py-4">
    <a
      href={SITE_URL} 
      class="flex items-baseline focus:outline-none focus:ring-2 focus:ring-aptcore-purple rounded-md p-1 -ml-1"
      aria-label="aptcore.one homepage"
    >
      <h1 class="text-2xl sm:text-3xl font-bold tracking-tight inline-flex items-baseline text-aptcore-purple">
        <span>aptcore</span>
        <img
          src={logoUrl} 
          alt="aptcore.one logo separator"
          class="h-4 w-4 sm:h-5 sm:w-5 mx-1 relative top-px"
          aria-hidden="true"
          width="20" height="20"
        />
        <span>one</span>
      </h1>
    </a>
    
    <div class="flex items-center space-x-4 sm:space-x-6">
      {navLinks.map(link => (
        <a 
          href={link.href} 
          class:list={[
            "text-sm sm:text-base font-medium hover:text-aptcore-purple transition-colors duration-150",
            // User's preferred active link logic
            (currentPath === link.href || (link.href === BLOG_BASE_URL && currentPath.startsWith(BLOG_BASE_URL))) 
              ? "text-aptcore-purple" 
              : "text-brand-text-secondary"
          ]}
          aria-current={currentPath === link.href ? "page" : undefined}
        >
          {link.text}
        </a>
      ))}
    </div>
  </nav>
</header>
