import{i as ce,a as de}from"../chunks/chunk-DkFryPO0.js";import{jsxs as a,jsx as e,Fragment as F}from"react/jsx-runtime";import{useState as d,useEffect as W,useCallback as me}from"react";import{Typography as I,Space as B,Spin as pe,Divider as M}from"antd";import H from"react-helmet-async";import{b as ue,c as X,d as he}from"../chunks/chunk-fL7t_YeK.js";import{PlayCircle as ge,Info as E,Hourglass as fe,CalendarClock as be,PackageCheck as xe,ShieldCheck as we,Cog as ye,KeyRound as ke,Clock as ve,HelpCircle as Te,ChevronDown as Se,AlertTriangle as Ae}from"lucide-react";import"react-dom/server";import"vike/server";import"@aptos-labs/wallet-adapter-react";import"react-dom";/* empty css                      *//* empty css                      */import"@aptos-labs/ts-sdk";/*! src/pages/tools/AptosLockupVisualizer/components/LockupInputControls.jsx [vike:pluginModuleBanner] */const Ne=({onVisualize:t})=>a("div",{className:"mb-6 sm:mb-8 p-4 sm:p-6 bg-slate-800/40 backdrop-blur-md border border-slate-700/60 rounded-xl shadow-md",children:[e("h3",{className:"text-xl font-semibold text-white mb-3",children:"Set Unstake Initiation Time"}),e("p",{className:"text-slate-300 text-sm mb-4",children:"Calculate the unstaking timeline based on the current time. Custom date/time selection will be available in a future update."}),a("button",{onClick:()=>t(Date.now()),type:"button",className:"w-full flex items-center justify-center gap-x-2.5 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl shadow-lg hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-indigo-500 transition-all duration-150 ease-in-out transform hover:scale-105 active:scale-100",children:[e(ge,{size:20}),"Visualize Unstaking From Now"]})]});/*! src/pages/tools/AptosLockupVisualizer/components/LockupTimelineDisplay.jsx [vike:pluginModuleBanner] */const{Title:_e,Text:Y}=I,q=({icon:t,title:i,time:o,details:l,colorClass:r="text-purple-400",valueTextColor:c="text-slate-200"})=>a("div",{className:"flex justify-between items-start sm:items-center py-3 border-b border-slate-700/60 last:border-b-0",children:[a("span",{className:"text-gray-400 flex items-start sm:items-center text-sm w-2/5 sm:w-auto",children:[t&&e(t,{size:18,className:`mr-3 ${r} flex-shrink-0 mt-0.5 sm:mt-0`}),i,":"]}),a("div",{className:"text-right flex-shrink-0 pl-2 w-3/5 sm:w-auto",children:[e(Y,{className:`block text-sm font-medium ${c}`,children:new Date(o).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),l&&e(Y,{className:"block text-xs text-slate-400 mt-0.5",children:l})]})]}),Pe=t=>{if(t<=0)return"Available now";const i=Math.floor(t/(3600*24)),o=Math.floor(t%(3600*24)/3600),l=Math.floor(t%3600/60);let r=[];i>0&&r.push(`${i}d`),o>0&&r.push(`${o}h`),(l>0||r.length===0)&&r.push(`${l}m`);let c=r.join(" ");return(!c||c==="0m")&&(c="<1m"),`in ~${c}`},ze=({timelineData:t})=>{const[i,o]=d("");if(W(()=>{if(!t||!t.actualUnlockTime){o(t?.remainingTime||"");return}o(t.remainingTime);const h=()=>{const g=Date.now(),w=t.actualUnlockTime,b=Math.max(0,Math.floor((w-g)/1e3));o(Pe(b))};if(h(),t.actualUnlockTime>Date.now()){const g=setInterval(h,1e4);return()=>clearInterval(g)}},[t]),!t)return a("div",{className:"mt-6 text-center text-slate-400 text-sm p-6 bg-slate-800/40 rounded-xl border border-slate-700/60",children:[e(E,{size:24,className:"mx-auto mb-2 text-blue-400"}),e("p",{children:"Timeline data will appear here once calculated."})]});const{initiationTime:l,poolCycleEndTime:r,actualUnlockTime:c,calculationEpochParams:n}=t;return a("div",{className:"mt-6 sm:mt-8",children:[e(_e,{level:2,className:"!text-xl sm:!text-2xl !font-semibold !mb-5 text-center !text-white",children:a(B,{align:"center",children:[e(fe,{size:24,className:"text-purple-400"}),e("span",{children:"Estimated Unlock Timeline"})]})}),a("div",{className:"bg-slate-800/40 backdrop-blur-md border border-slate-700/60 rounded-xl p-4 sm:p-6 shadow-md",children:[e(q,{icon:be,title:"Unstake Initiated",time:l,colorClass:"text-blue-400"}),e(q,{icon:xe,title:"Pool Lockup Cycle Ends",time:r,details:"Funds become inactive; withdrawal processing begins.",colorClass:"text-yellow-400"}),e(q,{icon:we,title:"Funds Available (Epoch End)",time:c,details:"APT becomes withdrawable at this epoch boundary.",colorClass:"text-green-400",valueTextColor:"!text-green-300"}),i&&e("div",{className:"pt-4 pb-2 text-center",children:e(Y,{className:"block text-lg font-semibold text-green-300",children:i})}),n&&a("div",{className:"mt-5 pt-4 border-t border-slate-700/50 text-xs text-slate-400 text-center bg-slate-900/20 rounded-lg p-3 shadow-inner",children:[a("p",{className:"mb-1",children:[e(E,{size:13,className:"inline mr-1.5 relative -top-px text-blue-300"}),"Calculated for validator: ",e("strong",{className:"text-slate-200 break-all block sm:inline mt-0.5 sm:mt-0",children:n.validatorPoolAddress})]}),a("p",{className:"mb-1",children:["Using network data from: ",e("strong",{className:"text-slate-200",children:new Date(n.dataAsOfTimestampISO).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),a("p",{className:"text-slate-500 leading-relaxed",children:["(Current on-chain Epoch #",n.currentEpochAtCalc," started: ",new Date(n.epochStartTimeISO).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),". Target pool's cycle ends: ",new Date(Number(n.poolLockedUntilSecs)*1e3).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),".)"]})]})]})]})};/*! src/pages/tools/AptosLockupVisualizer/components/NetworkInfoDisplay.jsx [vike:pluginModuleBanner] */const{Text:Ee,Title:Ie}=I,R=({label:t,value:i,icon:o})=>a("div",{className:"flex justify-between items-center py-2.5 border-b border-slate-700/60 last:border-b-0",children:[a("span",{className:"text-gray-400 flex items-center text-sm",children:[o&&e(o,{size:16,className:"mr-2.5 text-purple-400 flex-shrink-0"}),t,":"]}),e(Ee,{className:"text-sm text-slate-200 font-medium text-right",children:i})]}),Ce=({stakingConfig:t,epochTiming:i,validatorPoolInfo:o})=>{if(!t||!i)return e("div",{className:"mt-6 text-center text-slate-400 text-sm",children:"Loading network parameters..."});let l="N/A";t.recurring_lockup_duration_secs&&(l=(Number(t.recurring_lockup_duration_secs)/(60*60*24)).toFixed(1)+" days");let r="N/A";if(i.epochIntervalMicroseconds){const h=BigInt(i.epochIntervalMicroseconds);h>0&&(r="~"+(Number(h/1000000n)/3600).toFixed(1)+" hours")}const c=i.currentEpoch?i.currentEpoch.toLocaleString():"N/A";let n="N/A";return i.dataAsOfTimestamp&&(n=new Date(i.dataAsOfTimestamp).toLocaleString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})),a("div",{className:"mt-6 sm:mt-8",children:[e(Ie,{level:3,className:"!text-xl sm:!text-2xl !font-semibold !mb-5 text-center !text-white",children:a(B,{align:"center",children:[e(ye,{size:24,className:"text-purple-400"}),e("span",{children:"Network & Staking Parameters"})]})}),a("div",{className:"bg-slate-800/40 backdrop-blur-md border border-slate-700/60 rounded-xl p-4 sm:p-6 shadow-md",children:[e(R,{icon:ke,label:"Network Staking Cycle Duration",value:l}),e(R,{icon:E,label:"Current Epoch Number",value:c}),e(R,{icon:ve,label:"Average Epoch Duration",value:r}),i.dataAsOfTimestamp&&e(R,{icon:E,label:"Epoch Data as of",value:n})]})]})};/*! src/pages/tools/AptosLockupVisualizer/components/LockupDisclaimer.jsx [vike:pluginModuleBanner] */const{Text:Ue}=I,De=()=>a(Ue,{className:"text-xs block text-center text-zinc-400 px-2 leading-relaxed",children:[" ","*All timeline calculations are estimates based on current Aptos network parameters (such as recurring lockup duration and epoch interval) and the provided initiation time. Actual unlock times occur at epoch boundaries and may vary slightly due to network conditions or changes in network parameters. This tool does not constitute financial advice. Always verify critical information with official Aptos documentation or directly with your validator if applicable."]});/*! src/pages/tools/AptosLockupVisualizer/components/LockupFAQ.jsx [vike:pluginModuleBanner] */const{Title:Le}=I,Oe=({question:t,answer:i})=>{const[o,l]=d(!1);return a("div",{className:"py-3.5 border-b border-slate-700/60 last:border-b-0 first:pt-0",children:[" ",a("button",{onClick:()=>l(!o),className:"w-full flex justify-between items-center text-left focus:outline-none group py-1","aria-expanded":o,"aria-controls":`faq-answer-${t.replace(/\s+/g,"-")}`,children:[e("span",{className:"text-base font-medium text-slate-100 group-hover:text-purple-300 transition-colors",children:t}),e(Se,{size:20,className:`text-purple-400 transform transition-transform duration-200 ${o?"rotate-180":""} group-hover:text-purple-300`})]}),o&&e("div",{id:`faq-answer-${t.replace(/\s+/g,"-")}`,className:"mt-2.5 pr-6 pb-1",children:e("p",{className:"text-sm text-slate-300 leading-relaxed",children:i})})]})},je=({faqData:t=[]})=>!t||t.length===0?null:a("div",{className:"mt-10 sm:mt-12",children:[e(Le,{level:2,className:"!text-2xl sm:!text-3xl !font-semibold !mb-6 sm:!mb-8 text-center !text-white",children:a(B,{align:"center",size:"middle",children:[e(Te,{size:28,className:"text-purple-400"}),e("span",{children:"Lockup & Unstaking FAQs"})]})}),e("div",{className:"space-y-0 bg-slate-800/40 backdrop-blur-md border border-slate-700/60 rounded-xl p-4 sm:p-6 shadow-md",children:t.map((i,o)=>e(Oe,{question:i.question,answer:i.answer},o))})]});/*! src/pages/tools/AptosLockupVisualizer/AptosLockupVisualizerPage.jsx [vike:pluginModuleBanner] */const{Helmet:$e,HelmetProvider:it}=H?.default?.__esModule?H.default:H,{Title:Ve,Paragraph:Re}=I,m="0xf747e3a6282cc0dee1c89239c529b039c64fe48e88b50e5cedd40e9c094800bb",u=[{question:"How does the Aptos staking lock-up period work?",answer:"When you stake Aptos, your tokens are typically locked for a recurring period (currently around 14 days). If you decide to unstake, your APT becomes available after the current lock-up cycle of your chosen validator pool ends, and then fully withdrawable after the network processes it at an epoch boundary."},{question:"What does this visualizer show?",answer:`This tool helps you estimate the unstaking timeline for Aptos (APT) tokens. It considers the specific lock-up cycle of the validator at ${m.substring(0,6)}...${m.substring(m.length-4)} and Aptos network epoch timings.`},{question:"Why are 'Pool Cycle Ends' and 'Funds Available' different times?",answer:"Your funds are tied to the validator's lockup cycle. They become inactive (ready for withdrawal processing) when this cycle ends. The final 'Funds Available' time is when this withdrawal is processed by the Aptos network, which is aligned to the end of a network epoch."}],Fe=()=>{const[t,i]=d(null),[o,l]=d(null),[r,c]=d(null),[n,h]=d(null),[g,w]=d(null),[b,C]=d(null),[U,v]=d(null),[T,D]=d(!0);W(()=>{(async()=>{D(!0),C(null),v(null);try{const[s,f,y]=await Promise.all([ue(),X(),he(m)]);if(!s||s.recurring_lockup_duration_secs===void 0)throw new Error("StakingConfig data is incomplete.");if(!f||!f.epochIntervalMicroseconds||!f.epochStartTime||f.currentEpoch===void 0||!f.dataAsOfTimestamp)throw new Error("Epoch timing data is incomplete.");if(!y||y.locked_until_secs===void 0)throw new Error(`Validator pool info for ${m} is incomplete.`);l(s),c(f),h(y)}catch(s){C(`Could not load essential data: ${s.message}. Please try again later.`)}finally{D(!1)}})()},[]);const J=me(p=>{if(v(null),!o||!r||!n||!p){v("Required data is missing for calculation."),w(null);return}try{const s=Math.floor(p/1e3),f=Number(o.recurring_lockup_duration_secs);let y=Number(n.locked_until_secs);const N=y,se=BigInt(r.epochIntervalMicroseconds),le=BigInt(new Date(r.epochStartTime).getTime()*1e3),x=Number(se/1000000n);if(x===0)throw new Error("Epoch interval is zero.");const j=Number(le/1000000n);let k,$=j;if(N<j)for(;$>N;)$-=x;else{const V=Math.floor((N-j)/x);$=j+V*x}k=$+x,k<N&&(k+=x);const Q=Math.floor(Date.now()/1e3),_=k>Q?k-Q:0;let P="Available now";if(_>0){const V=Math.floor(_/86400),G=Math.floor(_%(3600*24)/3600),K=Math.floor(_%3600/60);let z=[];V>0&&z.push(`${V}d`),G>0&&z.push(`${G}h`),(K>0||z.length===0)&&z.push(`${K}m`),P=z.join(" "),(!P||P==="0m")&&(P="<1m")}w({initiationTime:p,poolCycleEndTime:N*1e3,actualUnlockTime:k*1e3,remainingTime:_>0?`in ~${P}`:"Available now",networkRecurringLockupDurationSecs:f,calculationEpochParams:{epochStartTimeISO:new Date(r.epochStartTime).toISOString(),epochIntervalSeconds:x.toString(),dataAsOfTimestampISO:new Date(r.dataAsOfTimestamp).toISOString(),currentEpochAtCalc:r.currentEpoch.toString(),validatorPoolAddress:m,poolLockedUntilSecs:y.toString()}})}catch(s){v(`Calculation error: ${s.message}`),w(null)}},[o,r,n]);W(()=>{t&&o&&r&&n&&J(t)},[t,o,r,n,J]);const Z=async p=>{D(!0),C(null),v(null),w(null),i(p);try{const s=await X();if(!s||!s.epochIntervalMicroseconds||!s.epochStartTime||s.currentEpoch===void 0||!s.dataAsOfTimestamp)throw new Error("Failed to load complete up-to-date network epoch timing. Please try again.");c(s)}catch(s){C(`Could not get latest data: ${s.message}. Calculation may use older data or fail.`)}finally{D(!1)}},S="https://aptcore.one/tools/aptos-staking-lockup-visualizer",A="Aptos Staking Lock-Up Visualizer: See Your APT Unstake Timeline | Aptcore.one",L="Understand Aptos's staking lock-up (currently ~14 days). Use aptcore.one's visualizer to estimate when your staked APT will be available after unstaking.",ee="Visualize Aptos (APT) staking lock-up periods and unstake timelines with Aptcore.one's tool. See when your APT becomes available.",te="https://aptcore.one/og-image-lockup-visualizer.jpg",ae="https://aptcore.one/og-image-lockup-visualizer.jpg",oe={"@context":"https://schema.org","@type":"WebPage",name:A,description:L,url:S,isPartOf:{"@type":"WebSite",url:"https://aptcore.one",name:"Aptcore.one"}},ie={"@context":"https://schema.org","@type":"SoftwareApplication",name:"Aptos Staking Lock-Up Visualizer: See Your APT Unstake Timeline",applicationCategory:"DataVisualizationApplication",operatingSystem:"Web",browserRequirements:"Requires a modern web browser with JavaScript enabled.",description:"An interactive tool by Aptcore.one to visualize Aptos (APT) staking lock-up periods and estimate when your funds will be available after unstaking. Understand the Aptos lock-up cycle (currently around 14 days) and plan your staking strategy.",keywords:"Aptos staking lock up visualizer, APT unstaking period tool, Aptos 14 day lockup explained tool, visualize aptos unstake time, aptos staking release date calculator, when can I withdraw my staked aptos tool, aptos lockup calendar, aptcore.one",author:{"@type":"Organization",name:"Aptcore.one",url:"https://aptcore.one"},url:S,offers:{"@type":"Offer",price:"0",priceCurrency:"USD"}},re={"@context":"https://schema.org","@type":"HowTo",name:"How to Use the Aptos Staking Lock-Up Visualizer to See Your APT Unstake Timeline",description:"Visualize your Aptos (APT) unstaking timeline with Aptcore.one. Enter your unstake initiation time to see the estimated unlock schedule based on validator and network data.",step:[{"@type":"HowToStep",name:"Select Unstake Initiation Time",text:"Choose the date and time you plan to initiate (or did initiate) your unstake request. You can use the date/time picker or click 'Visualize Unstaking From Now' for the current time."},{"@type":"HowToStep",name:"Review Network & Validator Information",text:"The tool displays current Aptos network staking configurations (like the ~14 day lockup cycle), epoch timing, and lock-up details specific to the validator pool at "+m.substring(0,6)+"..."+m.substring(m.length-4)+"."},{"@type":"HowToStep",name:"Analyze Your Unstaking Timeline",text:"The visualizer will generate and display a timeline. This shows when the validator's current pool lockup cycle is estimated to end and the final estimated time your Aptos (APT) funds will become available for withdrawal, aligned with Aptos network epochs."}],tool:[{"@type":"HowToTool",name:"Aptos Staking Lock-Up Visualizer on Aptcore.one"}]},O={"@context":"https://schema.org","@type":"FAQPage",mainEntity:Array.isArray(u)&&u.length>0?u.map(p=>({"@type":"Question",name:String(p.question||""),acceptedAnswer:{"@type":"Answer",text:String(p.answer||"")}})):[]},ne=!!(!T&&!b&&u&&Array.isArray(u)&&u.length>0&&O.mainEntity&&Array.isArray(O.mainEntity)&&O.mainEntity.length>0);return a(F,{children:[a($e,{children:[e("title",{children:String(A)}),e("meta",{name:"description",content:String(L)}),e("link",{rel:"canonical",href:String(S)}),e("meta",{property:"og:type",content:"website"}),e("meta",{property:"og:url",content:String(S)}),e("meta",{property:"og:title",content:String(A)}),e("meta",{property:"og:description",content:String(L)}),e("meta",{property:"og:image",content:String(te)}),e("meta",{property:"og:site_name",content:"Aptcore.one"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:url",content:String(S)}),e("meta",{name:"twitter:title",content:String(A)}),e("meta",{name:"twitter:description",content:String(ee)}),e("meta",{name:"twitter:image",content:String(ae)}),e("script",{type:"application/ld+json",children:JSON.stringify(oe)}),e("script",{type:"application/ld+json",children:JSON.stringify(ie)}),e("script",{type:"application/ld+json",children:JSON.stringify(re)}),ne&&e("script",{type:"application/ld+json",children:JSON.stringify(O)})]}),e("div",{className:"w-full max-w-3xl mx-auto py-8 px-4 sm:py-12 sm:px-6 lg:px-8",children:a("div",{className:"bg-slate-800/70 backdrop-blur-xl border border-slate-700/60 rounded-2xl shadow-2xl shadow-purple-500/20 p-6 sm:p-10",children:[a("div",{className:"text-center mb-8 sm:mb-10",children:[e(Ve,{level:1,className:"!text-3xl sm:!text-4xl !font-bold !mb-4 tracking-tight !text-white",children:A.split(" | ")[0]}),a(Re,{className:"text-slate-300 text-base sm:text-lg max-w-xl mx-auto",children:[L," This tool currently visualizes unstaking timelines for the validator pool at: ",e("strong",{className:"text-purple-300 block break-all mt-1",children:m})]})]}),T&&a("div",{className:"py-10 text-center",children:[e(pe,{size:"large"}),e("p",{className:"text-slate-300 mt-4 text-base",children:"Loading Network & Validator Data..."})]}),!T&&(b||U)&&a("div",{className:"mb-6 p-4 bg-red-900/40 border border-red-700/60 text-red-300 rounded-lg text-sm flex items-center gap-x-3",children:[e(Ae,{size:20,className:"flex-shrink-0"}),a("div",{children:[e("strong",{className:"font-semibold block text-red-200",children:"Error"}),e("span",{children:b||U})]})]}),!T&&!b&&a(F,{children:[e(Ne,{onVisualize:Z}),e(M,{className:"!my-6 sm:!my-8 !bg-slate-700/60"}),o&&r&&n&&e(Ce,{stakingConfig:o,epochTiming:r,validatorPoolInfo:n}),g&&!U&&a(F,{children:[e(M,{className:"!my-6 sm:!my-8 !bg-slate-700/60"}),e(ze,{timelineData:g})]}),!g&&!U&&!t&&o&&r&&n&&a("div",{className:"mt-6 text-center text-slate-400 text-sm p-6 bg-slate-800/40 rounded-xl border border-slate-700/60",children:[e(E,{size:24,className:"mx-auto mb-2 text-blue-400"}),e("p",{children:'Select an unstake initiation time or click "Visualize Unstaking From Now" to see the estimated timeline for the specified validator.'})]}),e(M,{className:"!my-10 sm:!my-12 !bg-slate-700/60"}),u&&u.length>0&&e(je,{faqData:u}),e("div",{className:"mt-10 sm:mt-12 pt-6 border-t border-slate-700/50",children:e(De,{})})]}),!T&&b&&e("div",{className:"text-center text-slate-400 mt-6",children:"There was an issue loading data. Please try refreshing the page."})]})})]})};/*! pages/tools/aptos-staking-lockup-visualizer/+Page.jsx [vike:pluginModuleBanner] */function Me(){return e(Fe,{})}const He=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"}));/*! virtual:vike:pageConfigValuesAll:server:/pages/tools/aptos-staking-lockup-visualizer [vike:pluginModuleBanner] */const rt={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onRenderHtml:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderHtml.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:de}},onBeforeRender:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onBeforeRender.js",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ce}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/tools/aptos-staking-lockup-visualizer/+Page.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:He}},passToClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/renderer/+config.js",fileExportPathToShowToUser:["default","passToClient"]}],valueSerialized:[{type:"js-serialized",value:["pageProps","title","routeParams"]}]}};export{rt as configValuesSerialized};
